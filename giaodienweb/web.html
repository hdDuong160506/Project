<!doctype html>
<html lang="vi">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Web B√°n H√†ng Tr√πm VN</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    body {
      font-family: Inter, system-ui, "Segoe UI", Roboto, Arial;
      line-height: 1.4;
      color: #222;
      background: #f6f7fb;
      padding: 20px
    }

    .cart-btn {
      background: #00a2ff;
      color: #fff;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s
    }

    .cart-btn:hover {
      background: #1130b9
    }

    main {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      position: relative
    }

    .products {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 14px
    }

    .card {
      background: #fff;
      border-radius: 12px;
      padding: 12px;
      box-shadow: 0 4px 18px rgba(9, 10, 11, 0.06);
      display: flex;
      flex-direction: column;
      gap: 8px
    }

    .card img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      border-radius: 8px
    }

    .card h4 {
      font-size: 16px
    }

    .price {
      font-weight: 700
    }

    .card .actions {
      margin-top: auto;
      display: flex;
      gap: 8px
    }

    #cart-popup {
      display: none;
      position: fixed;
      top: 135px;
      right: 60px;
      width: 320px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 12px;
      box-shadow: 0 4px 18px rgba(0, 0, 0, 0.2);
      padding: 16px;
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    .cart-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 10px
    }

    .cart-item {
      display: flex;
      gap: 8px;
      align-items: center
    }

    .cart-item img {
      width: 54px;
      height: 40px;
      object-fit: cover;
      border-radius: 6px
    }

    .qty {
      display: inline-flex;
      align-items: center;
      gap: 6px
    }

    .small-btn {
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid #ddd;
      background: #fff;
      cursor: pointer
    }

    footer {
      margin-top: 40px;
      text-align: center;
      color: #666;
      font-size: 13px
    }

    .auth-buttons {
      display: flex;
      gap: 8px;
    }

    .auth-buttons button {
      background: #2600ff;
      color: white;
      border: none;
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
    }

    .auth-buttons button:hover {
      background: #334c96;
    }

    .why-choose {
      background: #eef3ff;
      padding: 40px 0;
      text-align: center;
      border-radius: 16px;
      margin: 30px 0;
    }

    .why-choose h2 {
      font-size: 24px;
      color: #1e3a8a;
      margin-bottom: 20px;
      font-weight: 700;
    }

    .reasons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 18px;
      padding: 0 10px;
    }

    .reason-card {
      background: #fff;
      border-radius: 12px;
      padding: 18px;
      width: 320px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .reason-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.15);
    }

    .reason-card img {
      width: 60px;
      height: 60px;
      margin-bottom: 10px;
    }

    .reason-card h4 {
      font-size: 18px;
      margin-bottom: 6px;
      color: #222;
    }

    .reason-card p {
      font-size: 14px;
      color: #555;
      line-height: 1.4;
    }

    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #1867f8;
      color: white;
      z-index: 1000;
      padding: 0;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .navbar-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 60px;
      font-size: 13px;
      font-weight: 500;
    }

    .navbar-top a {
      color: white;
      text-decoration: none;
      padding: 0 5px;
    }

    .navbar-top a:hover {
      opacity: 0.8;
    }

    .nav-links-left a,
    .nav-links-right a,
    .navbar-top span {
      margin: 0 4px;
      color: white;
    }

    .nav-links-right .auth-link {
      font-weight: 500;
    }

    .navbar-top span {
      color: rgba(255, 255, 255, 0.5);
    }

    .navbar-main {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 60px;
      /* Padding hai b√™n */
      gap: 20px;
    }

    /* --- Logo (C·∫≠p nh·∫≠t m√†u) --- */
    .nav-left .brand {
      font-size: 40px;
      font-weight: bold;
      color: white;
      /* ƒê·ªïi logo th√†nh m√†u tr·∫Øng */
      letter-spacing: 1px;
    }

    /* --- Thanh t√¨m ki·∫øm (M·ªõi) --- */
    .nav-center-search {
      flex: 1;
      /* Cho ph√©p thanh t√¨m ki·∫øm co gi√£n */
      max-width: 600px;
    }

    #search-form {
      display: flex;
      width: 100%;
      background: white;
      border-radius: 4px;
      overflow: hidden;
      border: 2px solid #0ec0c0;
      /* Vi·ªÅn cam */
    }

    #search {
      /* Ghi ƒë√® style inline c≈© */
      flex: 1;
      padding: 12px 15px !important;
      border: none !important;
      outline: none !important;
      font-size: 14px;
      background: white !important;
      color: #222;
    }

    .search-btn {
      background: #1867f8;
      /* M√†u cam */
      border: none;
      padding: 0 20px;
      cursor: pointer;
    }

    .search-btn:hover {
      background: #1867f8;
    }

    /* --- N√∫t Gi·ªè h√†ng (M·ªõi) --- */
    .nav-right {
      display: flex;
      align-items: center;
    }

    /* ·∫®n c√°c n√∫t c≈© (n·∫øu c√≤n) */
    .account-btn {
      display: none;
    }

    /* N√∫t gi·ªè h√†ng bi·ªÉu t∆∞·ª£ng m·ªõi */
    .cart-btn-icon {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      position: relative;
      padding: 0;
    }

    /* Style cho bong b√≥ng ƒë·∫øm s·ªë l∆∞·ª£ng */
    .cart-count-bubble {
      position: absolute;
      top: -8px;
      right: -10px;
      background: white;
      color: #f53d2d;
      /* M√†u cam */
      font-weight: bold;
      font-size: 12px;
      border-radius: 50%;
      padding: 2px 6px;
      min-width: 10px;
      text-align: center;
      line-height: 1.2;
    }

    /* C·∫≠p nh·∫≠t margin-top cho main */
    main {
      /* Gi√° tr·ªã c≈© l√† 90px */
      margin-top: 130px;
      /* TƒÉng l√™n v√¨ navbar m·ªõi cao h∆°n (2 h√†ng) */
    }

    /* --- H·∫øt CSS Navbar ki·ªÉu Shopee --- */
    /* === D√ÅN V√ÄO TRONG TH·∫∫ <STYLE> C·ª¶A C·∫¢ 2 T·ªÜP === */

    /* Animation cho trang "hi·ªán" l√™n khi t·∫£i */
    @keyframes pageFadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Th√™m animation n√†y v√†o body c·ªßa C·∫¢ HAI trang */
    body {
      /* ...c√°c style c≈© c·ªßa body... */
      animation: pageFadeIn 0.5s ease-in-out;
    }

    /* L·ªõp CSS d√πng ƒë·ªÉ "·∫©n" trang ƒëi */
    body.page-fade-out {
      animation: pageFadeOut 0.5s ease-in-out forwards;
    }

    @keyframes pageFadeOut {
      from {
        opacity: 1;
        transform: translateY(0);
      }

      to {
        opacity: 0;
        transform: translateY(-10px);
      }
    }

    .nav-left .brand-link {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
    }

    .nav-left .brand-logo {
      height: 80px;
      width: 80px;
      object-fit: contain;
    }

    .nav-left .brand {
      font-size: 40px;
      font-weight: bold;
      color: white;
      letter-spacing: 1px;
    }
  </style>
</head>

<body>
  <header class="navbar">
    <div class="navbar-top">
      <div class="nav-links-left">
        <a href="#">K√™nh Ng∆∞·ªùi B√°n</a>
        <span>|</span>
        <a href="#">Tr·ªü th√†nh Ng∆∞·ªùi b√°n Shoppy</a>
        <span>|</span>
        <a href="#">K·∫øt n·ªëi</a>
      </div>
      <div class="nav-links-right">
        <a href="#">üîî Th√¥ng b√°o</a>
        <a href="#">‚ùì H·ªó Tr·ª£</a>
        <a href="#" class="auth-link" onclick="window.location.href='account.html'">T√†i Kho·∫£n</a>
      </div>
    </div>

    <div class="navbar-main">
      <div class="nav-left">
        <a href="web.html" class="brand-link">
          <img src="image/logo/logo1.png" alt="Logo" class="brand-logo">
          <div class="brand">SHOPPY</div>
        </a>
      </div>

      <div class="nav-center-search">
        <form id="search-form" onsubmit="event.preventDefault();">
          <input id="search" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." />
          <button type="submit" class="search-btn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="18px" height="18px">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
            </svg>
          </button>
        </form>
      </div>

      <div class="nav-right">
        <button class="cart-btn-icon" id="open-cart">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="28px" height="28px">
            <path
              d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.9 2 1.99 2 2-.9 2-2-.9-2-2-2z" />
          </svg>
          <span id="cart-count" class="cart-count-bubble">0</span>
        </button>
      </div>
    </div>
  </header>
  <main>
    <section>
      <div style="width:100%; text-align:center; margin:20px 0; position: relative;">
        <img src="image/banner.jpg" alt="Banner qu·∫£ng c√°o"
          style="width:95%; max-height:300px; object-fit:cover; border-radius:16px; box-shadow:0 2px 6px rgba(0,0,0,0.15); filter: blur(2px); opacity: 0.5;" />
        <h1 style="
     position: absolute;
     top: 50%;
     left: 50%;
     transform: translate(-50%, -50%);
     color: #fff;
     font-size: 50px;
     font-weight: 700;
     text-shadow: 2px 2px 8px rgba(0,0,0,0.6);
     white-space: nowrap;
   ">
          üõí Web mua h√†ng d·∫´n ƒë·∫ßu, m·ªôt ch·∫°m l√† mua üõí
        </h1>
      </div>

      <section class="why-choose">
        <h2>L√Ω do n√™n ch·ªçn mua h√†ng t·∫°i SHOPPY?</h2>
        <div class="reasons">
          <div class="reason-card">
            <img src="image/icons/icon1.jpg" alt="ƒêa d·∫°ng s·∫£n ph·∫©m">
            <h4>ƒêa d·∫°ng s·∫£n ph·∫©m</h4>
            <p>T·ª´ vƒÉn ph√≤ng ph·∫©m, qu·∫ßn √°o ƒë·∫øn ph·ª• ki·ªán ‚Äì t·∫•t c·∫£ ƒë·ªÅu c√≥ t·∫°i Shoppy v·ªõi gi√° t·ªët nh·∫•t.</p>
          </div>
          <div class="reason-card">
            <img src="image/icons/icon2.jpg" alt="Giao h√†ng linh ho·∫°t">
            <h4>Giao h√†ng linh ho·∫°t</h4>
            <p>Ch√∫ng t√¥i h·ªó tr·ª£ ƒë·ªïi tr·∫£ mi·ªÖn ph√≠ v√† giao h√†ng t·∫≠n n∆°i nhanh ch√≥ng, ti·ªán l·ª£i.</p>
          </div>
          <div class="reason-card">
            <img src="image/icons/icon3.png" alt="Thanh to√°n an to√†n">
            <h4>Thanh to√°n an to√†n</h4>
            <p>Thanh to√°n qua nhi·ªÅu ph∆∞∆°ng th·ª©c: ti·ªÅn m·∫∑t, th·∫ª ng√¢n h√†ng, v√≠ ƒëi·ªán t·ª≠, ƒë·∫£m b·∫£o b·∫£o m·∫≠t.</p>
          </div>
        </div>
      </section>
      <div style="background:#f7f7f7;padding:20px 0;margin:40px 0;text-align:center;border-radius:12px;">
        <p style="font-size:18px;margin-bottom:6px;color:#555;">üìç V·ªã tr√≠ hi·ªán t·∫°i: TP. H·ªôi An, Qu·∫£ng Nam</p>
        <p style="font-size:18px;margin-bottom:20px;color:#555;">‚òÅÔ∏è Th·ªùi ti·∫øt: C√≥ m√¢y, 28¬∞C</p>

        <h2 style="margin-bottom:12px; text-align: left; padding: 0 20px;">C√°c s·∫£n ph·∫©m g·ª£i √Ω:</h2>

        <div class="products" id="product-list"></div>
      </div>
    </section>
  </main>

  <div id="cart-popup">
    <h3 style="margin-top:0;">üõí Gi·ªè h√†ng c·ªßa b·∫°n</h3>
    <div class="cart-list" id="cart-list">
      <div style="color:#888">Gi·ªè h√†ng tr·ªëng</div>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
      <div>T·ªïng:</div>
      <div style="font-weight:700" id="cart-total">0‚Ç´</div>
    </div>
    <div style="margin-top:12px;display:flex;gap:8px">
      <button class="cart-btn" id="checkout">Thanh to√°n</button>
      <button class="small-btn" id="clear-cart">X√≥a</button>
      <button class="small-btn" id="close-cart" style="margin-left:auto;">ƒê√≥ng</button>
    </div>
  </div>

  <footer>
    <div class="footer">
      <div class="footer-section">
        <div class="footer-logo">
          <h2 style="color:#00aaff; font-size:28px;">SHOPPY</h2>
          <p style="color:#ccc;">Web b√°n h√†ng h√†ng ƒë·∫ßu Vi·ªát Nam.</p>
        </div>
        <h3>ƒê·ªëi t√°c thanh to√°n</h3>
        <div class="partners">
          <img src="image/payment/visa.png" alt="Visa">
          <img src="image/payment/mastercard.png" alt="Mastercard">
          <img src="image/payment/momo.png" alt="MoMo">
          <img src="image/payment/vnpay.jpg" alt="VNPay">
          <img src="image/payment/vietqr.png" alt="VietQR">
          <img src="image/payment/mbbank.png" alt="MB Bank">
          <img src="image/payment/viettinbank.png" alt="Viettinbank">
        </div>
      </div>

      <div class="footer-section">
        <h3>V·ªÅ Shoppy</h3>
        <ul>
          <li><a href="#">Gi·ªõi thi·ªáu</a></li>
          <li><a href="#">Li√™n h·ªá</a></li>
          <li><a href="#">Tuy·ªÉn d·ª•ng</a></li>
          <li><a href="#">Tr·ª£ gi√∫p</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>S·∫£n ph·∫©m</h3>
        <ul>
          <li><a href="#">ƒê·ªì d√πng h·ªçc t·∫≠p</a></li>
          <li><a href="#">ƒê·ªì ƒëi·ªán t·ª≠</a></li>
          <li><a href="#">Th·ªùi trang</a></li>
          <li><a href="#">ƒê·ªì gia d·ª•ng</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Ch√≠nh s√°ch</h3>
        <ul>
          <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
          <li><a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
          <li><a href="#">ƒê·ªïi tr·∫£ & Ho√†n ti·ªÅn</a></li>
        </ul>

        <h3 style="margin-top:20px;">Theo d√µi ch√∫ng t√¥i</h3>
        <div class="social-icons">
          <a href="https://www.facebook.com" target="_blank">
            <img src="image/icons/fb.jpg" alt="Facebook">
          </a>
          <a href="https://www.instagram.com" target="_blank">
            <img src="image/icons/ins.jpg" alt="Instagram">
          </a>
          <a href="https://www.tiktok.com" target="_blank">
            <img src="image/icons/tiktok.jpg" alt="TikTok">
          </a>
          <a href="https://www.youtube.com" target="_blank">
            <img src="image/icons/youtube.png" alt="YouTube">
          </a>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      @ 2025 Shoppy ‚Äî Khoa CNTT, HCMUS
    </div>
  </footer>

  <style>
    .footer {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      background: #111b21;
      color: #fff;
      padding: 50px 20px;
      border-top: 3px solid #00aaff;
    }

    .footer-section {
      flex: 1 1 220px;
      margin: 15px;
    }

    .footer-section h3 {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 12px;
    }

    .footer-section ul {
      list-style: none;
      padding: 0;
    }

    .footer-section ul li {
      margin-bottom: 8px;
    }

    .footer-section ul li a {
      color: #ccc;
      text-decoration: none;
      font-size: 14px;
    }

    .footer-section ul li a:hover {
      color: #00aaff;
    }

    .partners img {
      height: 30px;
      margin: 4px;
      border-radius: 6px;
      background: #fff;
      padding: 2px;
    }

    .social-icons img {
      height: 28px;
      margin: 6px 8px 0 0;
      border-radius: 8px;
      background: #fff;
      padding: 4px;
    }

    .store-buttons img {
      height: 45px;
      margin-right: 8px;
      margin-top: 10px;
    }

    .footer-bottom {
      background: #0b1318;
      text-align: center;
      color: #aaa;
      padding: 15px;
      font-size: 13px;
    }

    @media (max-width: 768px) {
      .footer {
        flex-direction: column;
        align-items: center;
      }

      /* Responsive cho Navbar */
      .navbar-top,
      .navbar-main {
        padding: 10px 15px;
      }

      .navbar-top {
        display: none;
        /* ·∫®n top-bar tr√™n di ƒë·ªông cho ƒë∆°n gi·∫£n */
      }

      .navbar-main {
        flex-direction: column;
        gap: 10px;
      }

      .nav-center-search {
        width: 100%;
        max-width: none;
      }

      main {
        margin-top: 180px;
        /* TƒÉng margin cho navbar di ƒë·ªông */
      }

      #cart-popup {
        top: 185px;
        right: 15px;
        width: calc(100% - 30px);
      }
    }
  </style>

  <script>
    // D·ªØ li·ªáu m·∫´u s·∫£n ph·∫©m
    const PRODUCTS = [
      { id: 1, name: 'B√∫t bi xanh', price: 7000, img: 'image/product/butbi.png' },
      { id: 2, name: 'S·ªï tay A5', price: 25000, img: 'image/product/sotay.jpg' },
      { id: 3, name: 'Balo v·∫£i', price: 210000, img: 'image/product/balovai.jpg' },
      { id: 4, name: 'Tai nghe Sony WH-CH510', price: 420000, img: 'image/product/tainghe.jpg' },
      { id: 5, name: 'M√≥c kh√≥a nh·ª±a', price: 15000, img: 'image/product/mockhoa.jpg' },
      { id: 6, name: '√Åo kho√°c n·ªâ', price: 350000, img: 'image/product/aokhoac.jpg' },
      { id: 7, name: 'B√¨nh gi·ªØ nhi·ªát Inox', price: 120000, img: 'image/product/binhgiunhiet.png' },
      { id: 8, name: 'Qu·∫ßn T√¢y', price: 180000, img: 'image/product/quantay.jpg' },
    ];

    let cart = JSON.parse(localStorage.getItem('cart_v1') || '{}');
    const $ = sel => document.querySelector(sel);

    function formatMoney(n) { return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + '‚Ç´'; }

    function renderProducts(filter = '') {
      const wrap = $('#product-list');
      wrap.innerHTML = '';
      const f = filter.trim().toLowerCase();
      const list = PRODUCTS.filter(p => p.name.toLowerCase().includes(f));
      list.forEach(p => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
         <img src="${p.img}" alt="${p.name}" />
         <h4>${p.name}</h4>
         <div class="price">${formatMoney(p.price)}</div>
         <div class="actions">
           <button class="small-btn" onclick="addToCart(${p.id})">Th√™m v√†o gi·ªè</button>
           <a href="product-detail.html?id=${p.id}" class="small-btn" style="text-decoration: none; color: #333; text-align: center;">Xem</a>
         </div>`;
        wrap.appendChild(card);
      });
    }

    function saveCart() { localStorage.setItem('cart_v1', JSON.stringify(cart)); updateCartUI(); }

    function updateCartUI() {
      const cartList = $('#cart-list');
      const cartCount = Object.values(cart).reduce((s, q) => s + q, 0);

      // C·∫≠p nh·∫≠t bong b√≥ng ƒë·∫øm s·ªë l∆∞·ª£ng
      const cartCountBubble = $('#cart-count');
      cartCountBubble.textContent = cartCount;
      cartCountBubble.style.display = cartCount > 0 ? 'block' : 'none';

      const total = Object.entries(cart).reduce((s, [id, q]) => {
        const p = PRODUCTS.find(x => x.id == id);
        return s + (p ? p.price * q : 0);
      }, 0);
      $('#cart-total').textContent = formatMoney(total);

      if (cartCount === 0) { cartList.innerHTML = '<div style="color:#888">Gi·ªè h√†ng tr·ªëng</div>'; return; }
      cartList.innerHTML = '';
      Object.entries(cart).forEach(([id, qty]) => {
        const p = PRODUCTS.find(x => x.id == id);
        if (!p) return;
        const item = document.createElement('div');
        item.className = 'cart-item';
        item.innerHTML = `
         <img src="${p.img}" alt="${p.name}" />
         <div style="flex:1">
           <div style="font-size:14px">${p.name}</div>
           <div style="font-size:13px;color:#666">${formatMoney(p.price)} x ${qty} = ${formatMoney(p.price * qty)}</div>
         </div>
         <div class="qty">
           <button class="small-btn" onclick="changeQty(${p.id}, -1)">-</button>
           <div style="min-width:20px;text-align:center">${qty}</div>
           <button class="small-btn" onclick="changeQty(${p.id}, 1)">+</button>
           <button class="small-btn" style="margin-left:6px" onclick="removeItem(${p.id})">x√≥a</button>
         </div>`;
        cartList.appendChild(item);
      });
    }

    function addToCart(id) { id = String(id); cart[id] = (cart[id] || 0) + 1; saveCart(); }
    function changeQty(id, delta) { id = String(id); cart[id] = (cart[id] || 0) + delta; if (cart[id] <= 0) delete cart[id]; saveCart(); }
    function removeItem(id) { id = String(id); delete cart[id]; saveCart(); }

    $('#clear-cart').addEventListener('click', () => { if (confirm('X√≥a to√†n b·ªô gi·ªè h√†ng?')) { cart = {}; saveCart(); } });
    $('#checkout').addEventListener('click', (e) => {
      e.preventDefault(); // NgƒÉn chuy·ªÉn trang ngay l·∫≠p C

      const count = Object.values(cart).reduce((s, q) => s + q, 0);
      if (count === 0) {
        alert('Gi·ªè h√†ng ƒëang r·ªóng.');
        return;
      }

      // 1. Th√™m l·ªõp CSS ƒë·ªÉ ch·∫°y animation "fade-out"
      document.body.classList.add('page-fade-out');

      // 2. Ch·ªù 500ms (kh·ªõp v·ªõi th·ªùi gian animation) r·ªìi m·ªõi chuy·ªÉn trang
      setTimeout(() => {
        window.location.href = 'cart.html';
      }, 500);
    });

    // M·ªü / ƒë√≥ng gi·ªè h√†ng popup
    $('#open-cart').addEventListener('click', () => {
      const popup = $('#cart-popup');
      popup.style.display = (popup.style.display === 'block') ? 'none' : 'block';
    });
    $('#close-cart').addEventListener('click', () => {
      $('#cart-popup').style.display = 'none';
    });

    $('#search').addEventListener('input', e => renderProducts(e.target.value));

    renderProducts(); updateCartUI();
  </script>
</body>

</html>